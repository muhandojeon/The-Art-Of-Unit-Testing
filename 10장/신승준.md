# 더 나은 테스트 전략 수립

## 일반적인 테스트 유형과 수준

각 테스트는 복잡성, 불안정성, 테스트를 통과할 때 신뢰도, 유지 보수성, 실행 속도라는 다섯 가지 기준으로 평가할 수 있다.

### E2E/UI 시스템 테스트

E2E 및 UI 시스템 테스트 단계에서는 가짜인 것이 없다. 이 테스트는 실제 운영 황경에 가장 가까운 상태에서 수행한다.

오만 가지 이유로 테스트가 실패할 수 있다.

> 테스트용 DB 데이터 초기화부터 네트워크 오류, E2E 프레임워크 오류 등등 갖가지 에러를 많이 만났던 기억이 나네요.

## 각 테스트 수준마다 존재하는 안티 패턴

### E2E 테스트만 사용하는 안티 패턴

테스트 대부분을 E2E로만 운용하는 경우이다. 이 수준의 테스트는 매우 느리고, 유지 보수하기 어렵고, 디버깅이 힘들며, 불안정성이 높다.

> 제가 딱 이랬습니다. E2E 결과를 기다리는 데에만 5분이 걸렸고 CI 단계에서는 어떻게 실패하는지 눈으로 확인하기 어렵다보니 [test replay](https://docs.cypress.io/cloud/features/test-replay)라는 걸 썼는데 사용 제한이 있었어요.

### 그렇다면 E2E 테스트는 하지 말아야 할까?

E2E 테스트를 완전히 피하지는 말되, 테스트 수를 최소화할 것을 강력히 추천한다.

## 배포 파이프라인 관리

- 참고용 테스트: 주요 성과 지표를 파악하고 지속적으로 모니터링하는 데에 사용한다. 결과가 단순히 성공과 실패로 나뉘지 않고, 실패하더라도 배포에는 영향을 주지 않는다.
- 탐색 파이프라인: 참고용 테스트에 사용한다. 이 파이프라인은 배포 파이프라인과 병렬로 실행되지만 지속적으로 작동하며, 배포 기준에는 포함되지 않는다.
