# 9장 가독성

## 단위 테스트에서 이름 짓기

테스트 이름이나 테스트가 포함된 파일 구조에는 다음 세가지 요소가 포함되어야 함
- 작업 단위의 진입점 (혹은 현재 테스트 중인 기능 이름)
- 테스트하는 상황
- 종료점에서 기대되는 동작

> 2장에서 소개했던 USE 패턴이 상기됐음! (테스트 하려는 대상, 입력 값에 대한 설명, 기댓값에 대한 설명) 기억하자

작업 단위의 종료점에서 무엇을 해야하거나 반환해야 하는지, 어떻게 동작해야 하는지 알기 쉬운 말로 설명해야 함

```
// as-is
진입점 X를 null 값으로 호출하면, Y를 실행한다.

// to-be
진입점 X를 null 값으로 호출하면, 작업 단위의 종료점에서 Y가 수행되어야 한다.
```

아래처럼 동일한 정보도 다른 방식으로 표현할 수 있다

```
test('verifyPassword, with a failing rule, returns error based on rule.reason', () => {
  // ...
});

describe('verifyPassword', () => {
  describe('with a failing rule', () => {
    it('returns error based on the rule.reason', () => {
      // ...
    });
  });
});
```

중요한 점은 `verifyPassword, with a failing rule, returns error based on rule.reason` 에서 하나라도 빠지면 테스트 읽는 사람은 테스트를 이해하기 위해 테스트 코드를 읽어야 하니까 누락하지 말아야 한다.

우리가 명심해야 할 점은 코드 가독성을 높여 다른 개발자가 테스트 이름만으로도 무엇을 테스트하는지 알기 쉽게 하는 것이다!

> 예전에 오픈소스 코드 볼 때 테스트 코드 먼저 봤었던 기억이 났음. 임효성님 유튜브 보면서 알게 된 방법   
> https://www.youtube.com/watch?v=1Lhfcz9MnmQ&t=72s

좋은 테스트 이름은 문서 역할도 할 수 있다!


## 매직 넘버와 변수 이름

매직 넘버란 하드코딩된 값, 기록에 남지 않는 값, 명확하게 이해되지 않는 상수나 변수를 의미. 사실 매직 문제라고 불려야 됨

매직 넘버를 사용하는 대신 의미있는 이름의 변수로 감싸거나 문자열일 경우 값 자체에 설명 사용 하자~

## 검증과 실행 단계 분리

검증과 싫랭 단계를 분리해야 한다! 이 둘을 합치면 코드는 짧아지지만 이해하기는 훨씬 어려움!

## 초기화 및 설정 해제

가급적 beforeEach() 함수 같은 초기화 함수 사용하지 않도록 하자! 대신에 팩토리 함수 만들어서 가독성을 높이자!

> 이전에도 언급했던 쓰레기통으로 사용 될 가능성 높아짐
