# 레거시 코드 다루기
* 팀적으로 단위 테스트 경험이 부족하다고 판단되면 쉬운 컴포넌트부터 시작해서 점차 테스트를 추가하면서 자신감을 키워 나가는 것이 좋다.
* 반대로 팀 전체적으로 단위 테스트 경험이 풍부하면 어려운 컴포넌트부터 테스트를 시작하자. 이후 나머지 컴포넌트의 테스트를 더 빠르게 진행할 수 있다.

* 대규모 리팩터링을 시작하기 전에 리팩터링 후에도 큰 코드 변화 없이 유지할 수 있는 통합 테스트를 작성하면 좋다.
  + 리팩터링이 끝난 후에는 그 통합 테스트 대부분을 더 작고 편리하기 쉬운 단위 테스트로 교체한다.
# 부록. 함수와 모듈의 몽키 패칭

## Spy

* 스파이는 함수의 실제 구현을 그대로 실행하면서 그 함수의 입력 값과 출력 값을 기록하는 것

* 페이크로 만들기 위해서는

```ts
jest.spyOn(Date, 'now').mockImplementation(() => 123)
```

## 과도하게 사용되는 '목'

* jest에서는 mock이라는 단어를 남발하고 있다고 필자는 말한다
  + 그래서 목이라는 단어가 실제가 아닌 모든 것을 지칭하는 데 자주 사용됨
  

* 이 용어를 제대로 구분하지 않으면 테스트가 더 취약해질 수 있음
  + 특히 필자가 보기에 '목'이라는 일므은 나중에 검증할 대상으로 해석되기 쉽다
