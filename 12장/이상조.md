# 레거시 코드 다루기

TDD를 제대로 적용하지 못하는 원인은 레거시 코드.
- 기존 코드를 대상으로 테스트 작성이 어려움
- 기존 코드 리팩터링이 불가능하거나 시간 부족
- 본인이 설계한 코드 변경하지 않으려고 함
- TDD 도구가 부족
- 어떻게 시작해야 할지 판단 어려움

테스트가 필요하거나, 시작하기 좋은 컴포넌트부터 하라.  
- 논리적 복잡도: 컴포넌트 내의 논리 구조의 복잡성. 분기를 순환 복잡도라고 함.
- 의존성 수준: 테스트하기 위해 끊어야 할 의존성의 수.
- 우선순위

복잡도가 높고 의존성 수준이 낮은 것을 하거나, 복잡도가 높고 의존성 수준도 높은 것을 하거나...  
다만 로직이 복잡하지 않다면 굳이 테스트할 이유는 없다.  

복잡도가 높고 의존성 수준이 낮은 것은 테스트가 쉽다. 하지만 처음에는 쉬워서 빨리 하지만 나중엔 어려운 것만 남아서 스트레스 받음.  
복잡도와 의존성 수준이 모두 높은 것은 테스트가 어렵다. 처음에는 부담스럽지만 의존성이 많은 컴포넌트를 리팩터링하면 시스템의 다른 부분에도 긍정적이라 테스트 작성 시간이 빠르게 줄어든다.  

리팩터링 전에 통합 테스트를 작성해서 기존 기능이 동작한다는 것을 보장하자.  
