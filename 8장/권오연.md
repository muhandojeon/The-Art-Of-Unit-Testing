### 8.1 테스트 실패로 코드 변경
* 테스트가 관련이 없거나 다른 테스트와 충돌하는 경우
	* 새로운 기능이 추가되어 실패한 테스트는 삭제해도 된다
* 프로덕션 코드의 API 변경
	* 테스트할 코드의 생성 과정을 분리하거나 추상화
	* 객체를 생성하고 미리 설정하는 함수를 팩토리 함수, 팩토리 메서드
	* 팩토리 함수만 변경할 수 있도록 테스트 코드 짜기
* 다른 테스트가 변경되었을 경우
	* 테스트는 독립적으로 실행되어야 한다
	* 순서가 정해진 테스트: 어떤 테스트가 이전 테스트의 실행 여부에 따라 결과가 달라지는 상황

### 8.2 유지 보수성을 높이는 리팩터링 방법
* private 또는 protected 메서드 사용하지 않기
	* 메서드를 public으로 만들기
	* 메서드를 새로운 클래스나 모듈로 분리하기
	* 스테이트리스한 private 메서드를 public이나 static 메서드로 만들기
* 테스트에서도 DRY 원칙 고수
	* 소프트웨어 개발에서 동일한 코드나 로직을 반복하지 말라
* 초기화 함수를 사용하지 않기
	* 헬퍼 함수를 사용하는 것이 낫다
* 매개변수화된 테스트로 중복 코드 제거

### 8.3 과잉 명세된 테스트
* 과잉 명세된 테스트: 단순히 코드의 외부 동작을 확인하는 것이 아니라, 코드 내부가 어떻게 구현되어야 하는지 까지 검증하는 테스트
* 테스트가 지나치게 구체적이고 복잡해서 코드를 변경할 때, 테스트를 자주 수정해야 하는 문제
* 목을 사용한 내부 동작 과잉 명세 지양하기
	* 그럼 어떻게 해야할까?
		* 값 기반 테스트: 호출된 함수의 반환값을 확인
		* 상태 기반 테스트: 진입점 함수와 같은 레벨에 위치하는 형제 함수나 속성을 확인
		* 서드 파티 테스트
* 결과와 순서를 지나치게 세밀하게 검증
	* 안티 패턴 중 하나: 반환된 값의 순서와 구조를 지나치게 세분화하는 것
	* 한번에 모든 것을 검증하려고 하지 말고, 검증을 여러 작은 검증 구문으로 나누어 각각의 측면을 명확하게 확인